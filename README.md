SyncBoard üé®A high-performance, real-time collaborative canvas built with a "Multiplayer-First" mindset. This project demonstrates how to synchronize global state across distributed users with sub-50ms latency.üöÄ Key Features1. Real-Time "Multiplayer" SynchronizationInstant Interaction: Move the "Shared Box" in one browser window, and it moves in every other connected session instantly without page refreshes.WebSocket Engine: Built on a bidirectional communication layer that broadcasts coordinates $(x, y)$ the moment a user interacts with the canvas.2. Persistent "Single Source of Truth"Survival Logic: Unlike standard WebSockets that lose data when a server restarts, this uses Cloudflare Durable Objects.State Retention: If all users log out and return later, the box remains exactly where it was last placed.3. Dual-Method AuthenticationSocial & Standard: Full integration with Supabase Auth, supporting both traditional Email/Password and Google OAuth (Gmail).Recovery Flow: Includes a dedicated password reset and update UI to handle "Recovery" events gracefully without getting stuck in a login loop.4. Edge-Optimized BackendHono Framework: Uses the ultra-lightweight Hono framework running on Cloudflare Workers.Global Low Latency: Code is executed at the "Edge" (closest to the user), minimizing the physical distance data travels.üõ†Ô∏è Tech StackFrontend: React (Vite), Tailwind CSS (UI/UX), Lucide React (Icons).Real-Time Layer: WebSockets + Cloudflare Durable Objects.API Framework: Hono (Serverless).Backend/Auth: Supabase (PostgreSQL).Caching: Cloudflare KV for rapid user profile lookups.üèóÔ∏è Architecture Detail (The "Under the Hood")The Data FlowInteraction: A user drags the box via react-draggable.Transmission: The client sends a JSON payload { type: "move", x, y } through the WebSocket.Processing: The Cloudflare Worker intercepts the message. It verifies the user's JWT (JSON Web Token) to ensure they are authorized.Broadcast: The Durable Object updates its internal memory and immediately pushes the new coordinates to all other active WebSocket connections.Solving ChallengesThe Redirect Loop: We fixed the Google Auth 500 error by correctly whitelisting the Redirect URI in Google Cloud Console and setting up the "Skip Nonce" toggle in Supabase.Recovery UI: We implemented onAuthStateChange listeners to detect PASSWORD_RECOVERY events, allowing the app to switch into a "New Password" mode automatically upon clicking an email link.üìã Setup & DeploymentFrontend (Client)Clone & Install:Bashnpm install
Environment Variables: Create a .env file:Extrait de codeVITE_SUPABASE_URL=your_project_url
VITE_SUPABASE_ANON_KEY=your_anon_key
Run: npm run devBackend (Serverless)Initialize Queues/KV: (If using KV for profiles) npx wrangler kv:namespace create PROFILES.Deploy:Bashnpx wrangler deploy
